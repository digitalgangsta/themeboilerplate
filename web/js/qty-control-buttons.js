define(["jquery"],function(i){"use strict";return i.widget("brm.qtyControlButtons",{options:{inputQtyClass:".qty input",miniCarturlUpdate:window.checkout.updateItemQtyUrl},_create:function(){var a=this,t=i("[data-block='minicart']");i(a.options.inputQtyClass).each(function(t,n){i(n).parents(".form-cart").length||a._addButtonsToQtyInput(n)}),this._addButtonsToQtyInput(),t.on("dropdowndialogopen",function(){a._miniCartContentLoaded(t)})},_addButtonsToQtyInput:function(n){var a=this;i(n).parent().hasClass("quantity-wrap")||(i(n).wrap('<div class="quantity-wrap"></div>').after('<button class="action increaseQty"><span class="qty-controler plus input-number-increment"></span></button>').before('<button class="action decreaseQty"><span class="qty-controler minus input-number-decrement"></span></button>'),i(n).siblings(".action.increaseQty").on("click",function(t){t.stopPropagation(),t.preventDefault(),i(n).parents(".minicart-wrapper").length?a._increaseItemQty(i(n)):a._increaseQty(i(n))}),i(n).siblings(".action.decreaseQty").on("click",function(t){t.stopPropagation(),t.preventDefault(),i(n).parents(".minicart-wrapper").length?a._decreaseItemQty(i(n)):a._decreaseQty(i(n))}))},_miniCartContentLoaded:function(t){var a=this;t.on("contentUpdated",function(){t.find(a.options.inputQtyClass).each(function(t,n){a._addButtonsToQtyInput(n)})})},_increaseQty:function(t){var n=parseFloat(i(t).val());t.val(n+1).change()},_decreaseQty:function(t){var n=parseFloat(i(t).val());1<n&&t.val(n-1).change()},_increaseItemQty:function(t){var n=t.data("cart-item"),a=i("#update-cart-item-"+n),e=parseFloat(i("#cart-item-"+n+"-qty").val());i("#cart-item-"+n+"-qty").val(e+1).change(),a.click()},_decreaseItemQty:function(t){var n=t.data("cart-item"),a=i("#update-cart-item-"+n),e=parseFloat(i("#cart-item-"+n+"-qty").val());1<e&&(i("#cart-item-"+n+"-qty").val(e-1).change(),a.click())}}),i.brm.qtyControlButtons});